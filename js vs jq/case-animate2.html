<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Javascript动画案例</title>
<script>
window.onload=function(){
	var page=1;
	var i=4;
	
	var oP=document.getElementById("divp");
	var oUl=document.getElementById("ul1");
	var oLi=oUl.getElementsByTagName("li");
	var oPrev=document.getElementById("prev");
	var oNext=document.getElementById("next");
	var oT=document.getElementById("divt");
	var oSpan=oT.getElementsByTagName("span");
	
	v_width=getStyle(oUl.parentNode,"width");
	var len=oLi.length;
	var page_count=Math.ceil(len/i);
	
	oNext.onclick=function(){
		if(page==page_count){
			move(-60,0,page=1)
		}else{
			move(30,oUl.offsetLeft-parseInt(v_width),page++)
		}
		addClass(page);
	}
	oPrev.onclick=function(){
		if(page==1){
			move(60,-(page_count-1)*parseInt(v_width),page=4);
		}else{
			move(-30,oUl.offsetLeft+parseInt(v_width),page--);	
		}
		addClass(page);
	}
	function move(speed,target,page){
		if(oUl.offsetLeft%parseInt(v_width)==0){
			timer=setInterval(function(){
				if(oUl.offsetLeft==target){
					clearInterval(timer);
				}else{
					oUl.style.left=oUl.offsetLeft-speed+"px";	
				}
			},30);page;}
		else{ return false; }
	}
	function getStyle(obj,name){
		if(obj.currentStyle){
			return obj.currentStyle[name];
		}else{
			return getComputedStyle(obj,false)[name];
		}
	}
	function addClass(page){
		for(i=0;i<oSpan.length;i++){
			if(i==page-1){
				oSpan[i].className="current";
			}else{
				oSpan[i].className="";
			}
		}
	}
}
</script>
<style>
*{margin:0;padding:0;}
a{text-decoration:none;color:brown;cursor:pointer;}
a:hover{color:limegreen;}
.v_show{background:ivory;border:1px solid tan;border-radius:0.5em 0.5em 0em 0em;height:350px;width:880px;position:absolute;overflow:hidden;margin:10px auto;left:0px;right:0px;top:0px;bottom:0px;text-align:center;}
.v_show .v_caption{background:khaki;height:40px;position:relative;top:0px;}
.v_show .v_caption h2{padding:3px 0 0 12px;width:100px;font-family:"微软雅黑";color:brown;}
.v_show .v_caption .highlight_tip{position:relative;top:-16px;left:126px;cursor:pointer;}
.v_show .v_caption .highlight_tip span{border-radius:100%;width:10px;height:10px;display:block;float:left;background:ivory;margin:0 2px;}
.v_show .v_caption .highlight_tip span.current{background:brown;}
.v_show .v_caption .change_btn{position:relative;top:-28px;left:140px;background:white;border:1px solid tan;border-radius:0.5em;width:86px;height:26px;overflow:hidden;box-shadow:1px 1px 1px tan;}
.v_show .v_caption .change_btn span{display:block;width:41px;height:26px;float:left;cursor:pointer;}
.v_show .v_caption .change_btn span.prev{border-right:1px solid tan;background:url(img/l.png) no-repeat;background-size:16px 12px;background-position:center;}
.v_show .v_caption .change_btn span.next{background:url(img/r.png) no-repeat;background-size:16px 12px;background-position:center;}
.v_show .v_caption em{color:brown;position:relative;top:-52px;left:400px;}
.v_show .v_content{height:400px;clear:both;position:relative;top:22px;left:0px;}
.v_show .v_content .v_content_list{height:400px;position:relative;width:840px;margin:1px auto;overflow:hidden;}
.v_show .v_content .v_content_list ul{list-style:none;height:265px;width:3360px;margin:0 auto;text-align:center;padding-left:0px;position:relative;left:0px;}
.v_show .v_content .v_content_list ul li{float:left;margin:5px;width:200px;display:block;}
.v_show .v_content .v_content_list ul li h4{text-align:left;margin-top:12px;}
.v_show .v_content .v_content_list ul li span{text-align:left;display:inherit;color:gray;margin-top:8px;}
.v_show .v_content .v_content_list ul li img{width:200xp;height:200px;}
</style>
</head>
<body>
<div class="v_show" id="divp">
	<div class="v_caption">
			<h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
			<div class="highlight_tip" id="divt">
				<span class="current"></span> <span></span> <span></span> <span></span>
			</div>
			<div class="change_btn">
				<span class="prev" id="prev"></span>
				<span class="next" id="next"></span>	
			</div>
			<em><a href="#">更多>></a></em>
	</div>
	<div class="v_content">
		<div class="v_content_list">
			<ul id="ul1">
                <li><a href="#"><img src="img/01.jpg" alt="海贼王1"/></a><h4><a href="#">海贼王1</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="海贼王2"/></a><h4><a href="#">海贼王2</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="海贼王3"/></a><h4><a href="#">海贼王3</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="海贼王4"/></a><h4><a href="#">海贼王4</a></h4><span>播放：<em>57,865</em></span></li>
                
                <li><a href="#"><img src="img/01.jpg" alt="海贼王1"/></a><h4><a href="#">海贼王1</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="海贼王2"/></a><h4><a href="#">海贼王2</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="海贼王3"/></a><h4><a href="#">海贼王3</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="海贼王4"/></a><h4><a href="#">海贼王4</a></h4><span>播放：<em>57,865</em></span></li>
                
                <li><a href="#"><img src="img/01.jpg" alt="海贼王1"/></a><h4><a href="#">海贼王1</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="海贼王2"/></a><h4><a href="#">海贼王2</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="海贼王3"/></a><h4><a href="#">海贼王3</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="海贼王4"/></a><h4><a href="#">海贼王4</a></h4><span>播放：<em>57,865</em></span></li>
                
                <li><a href="#"><img src="img/01.jpg" alt="海贼王1"/></a><h4><a href="#">海贼王1</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="海贼王2"/></a><h4><a href="#">海贼王2</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="海贼王3"/></a><h4><a href="#">海贼王3</a></h4><span>播放：<em>28,276</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="海贼王4"/></a><h4><a href="#">海贼王4</a></h4><span>播放：<em>57,865</em></span></li>
			</ul>
		</div>
	</div>
</div>
</body>
</html>
